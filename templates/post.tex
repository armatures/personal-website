% Options for packages loaded elsewhere
\PassOptionsToPackage{hyphens}{url}

\PassOptionsToPackage{dvipsnames,svgnames*,x11names*}{xcolor}
%
\documentclass[
]{article}
\usepackage{amssymb,amsmath}

% This works best with xetex
\usepackage{unicode-math}
\defaultfontfeatures{Scale=MatchLowercase}
\defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}

\usepackage{xeCJK}
\setCJKmainfont{NotoSansCJKjp-Regular.otf}[%
  Path = fonts/NotoSans/ ,
]
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[$for(microtypeoptions)$$microtypeoptions$$sep$,$endfor$]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\usepackage[
  colorlinks=true,
  linkcolor=Maroon,
  filecolor=Maroon,
  citecolor=Blue,
  urlcolor=Blue,
]{hyperref}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[margin=2cm]{geometry}
\usepackage{listings}
\newcommand{\passthrough}[1]{#1}
\lstset{defaultdialect=[5.3]Lua}
\lstset{defaultdialect=[x86masm]Assembler}
$if(highlighting-macros)$
$highlighting-macros$
$endif$
\usepackage{longtable,booktabs}
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{$if(secnumdepth)$$secnumdepth$$else$5$endif$}

\title{$title$}
\author{$author$}
\date{$date$}

\begin{document}
\maketitle

{
\hypersetup{}
\setcounter{tocdepth}{$toc-depth$}
\tableofcontents
}

$body$

% TODO clean this up somehow and remove the if
$if(lot)$
\listoftables
$endif$
$if(lof)$
\listoffigures
$endif$

\end{document}
